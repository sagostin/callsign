# CallSign Environment Configuration
# Copy this file to .env and modify as needed
# Use ./configure.sh for interactive setup

# ===================================
# Domain & SSL (Caddy)
# ===================================
DOMAIN=localhost
SSL_ENABLED=false
# For production, set DOMAIN to your actual domain and SSL_ENABLED=true
# Caddy will auto-provision Let's Encrypt certificates

# Admin panel URL (system admin access)
ADMIN_PANEL_URL=https://${DOMAIN}/admin

# ===================================
# Database (PostgreSQL)
# ===================================
POSTGRES_USER=callsign
POSTGRES_PASSWORD=changeme_postgres_pwd
POSTGRES_DB=callsign
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ===================================
# Redis (Caching & Pub/Sub)
# ===================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ===================================
# ClickHouse (CDR Analytics)
# ===================================
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=9000
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_DB=callsign
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# ===================================
# API Server
# ===================================
API_PORT=8080
API_HOST=0.0.0.0
API_ENV=development
API_DEBUG=true

# JWT Settings
JWT_SECRET=changeme_jwt_secret_at_least_32_chars
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=168h

# ===================================
# FreeSWITCH
# ===================================
FREESWITCH_HOST=127.0.0.1
FREESWITCH_ESL_PORT=8021
FREESWITCH_ESL_PASSWORD=ClueCon
FREESWITCH_XML_CURL_URL=http://api:8080/api/freeswitch

# ===================================
# Encryption (for sensitive data)
# ===================================
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=changeme_encryption_key_32_bytes_

# ===================================
# Monitoring (Grafana/Loki)
# ===================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin
LOKI_URL=http://loki:3100

# ===================================
# CORS (comma-separated origins)
# ===================================
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ===================================
# File Storage
# ===================================
STORAGE_PATH=/var/lib/callsign
RECORDINGS_PATH=/var/lib/callsign/recordings
VOICEMAIL_PATH=/var/lib/callsign/voicemail
FAX_PATH=/var/lib/callsign/fax
TRANSCRIPTIONS_PATH=/var/lib/callsign/transcriptions

# ===================================
# Email (SMTP)
# ===================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@example.com
SMTP_TLS=true

# ===================================
# SMS Providers (optional)
# ===================================
# Twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# SignalWire
SIGNALWIRE_PROJECT_ID=
SIGNALWIRE_TOKEN=
SIGNALWIRE_SPACE=

# ===================================
# Transcription / Speech-to-Text
# ===================================
ENABLE_TRANSCRIPTION=false

# Provider: whisper, deepgram, assemblyai, google, azure, custom
TRANSCRIPTION_PROVIDER=whisper

# Transcription Mode: 
#   simple    - Basic transcription, no speaker labels
#   diarized  - Speaker-separated with timestamps
#   realtime  - Live transcription during call
TRANSCRIPTION_MODE=simple

# Whisper (local or OpenAI API)
WHISPER_MODEL=base
WHISPER_API_URL=http://localhost:8000/v1/audio/transcriptions
WHISPER_API_KEY=

# Deepgram
DEEPGRAM_API_KEY=
DEEPGRAM_MODEL=nova-2
DEEPGRAM_DIARIZE=true
DEEPGRAM_PUNCTUATE=true

# AssemblyAI
ASSEMBLYAI_API_KEY=
ASSEMBLYAI_SPEAKER_LABELS=true

# Google Cloud Speech-to-Text
GOOGLE_STT_CREDENTIALS_JSON=
GOOGLE_STT_LANGUAGE=en-US

# Azure Speech
AZURE_SPEECH_KEY=
AZURE_SPEECH_REGION=eastus
AZURE_SPEECH_LANGUAGE=en-US

# Custom API Endpoint (your own format)
# POST request with audio file, returns JSON with transcript
CUSTOM_TRANSCRIPTION_URL=
CUSTOM_TRANSCRIPTION_API_KEY=
CUSTOM_TRANSCRIPTION_FORMAT=callsign
# Format options: callsign, simple, vtt, srt

# ===================================
# Text-to-Speech (TTS)
# ===================================
ENABLE_TTS=false

# Provider: elevenlabs, google, azure, openai, edge, piper, custom
TTS_PROVIDER=edge

# Default voice settings
TTS_DEFAULT_VOICE=en-US-JennyNeural
TTS_DEFAULT_LANGUAGE=en-US

# ElevenLabs
ELEVENLABS_API_KEY=
ELEVENLABS_VOICE_ID=21m00Tcm4TlvDq8ikWAM

# OpenAI TTS
OPENAI_API_KEY=
OPENAI_TTS_MODEL=tts-1
OPENAI_TTS_VOICE=alloy

# Azure TTS
AZURE_TTS_KEY=
AZURE_TTS_REGION=eastus

# Google Cloud TTS
GOOGLE_TTS_CREDENTIALS_JSON=

# Piper TTS (local, fast)
PIPER_MODEL_PATH=/var/lib/callsign/tts/models
PIPER_VOICE=en_US-lessac-medium

# Edge TTS (free, Microsoft Edge voices)
# No API key needed, uses edge-tts library

# Custom TTS API
CUSTOM_TTS_URL=
CUSTOM_TTS_API_KEY=

# ===================================
# Real-Time Speech (Conversational AI)
# ===================================
ENABLE_REALTIME_SPEECH=false

# Provider: openai_realtime, ultravox, deepgram_streaming
REALTIME_PROVIDER=openai_realtime

# OpenAI Realtime API
OPENAI_REALTIME_MODEL=gpt-4o-realtime-preview

# Ultravox
ULTRAVOX_API_KEY=
ULTRAVOX_VOICE=terrence

# ===================================
# AI Assistant / LLM
# ===================================
ENABLE_AI_ASSISTANT=false

# Provider: openai, anthropic, ollama, custom
AI_PROVIDER=openai

# OpenAI
OPENAI_CHAT_MODEL=gpt-4o-mini

# Anthropic Claude
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-haiku-20240307

# Ollama (local)
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2

# ===================================
# Feature Flags
# ===================================
ENABLE_FAX=true
ENABLE_SMS=true
ENABLE_WEBRTC=true
ENABLE_HOSPITALITY=false
ENABLE_CALL_RECORDING=true
ENABLE_VOICEMAIL_TRANSCRIPTION=true
